# virtual_machine_notes





## 1. 在 VMware 17Pro 上安装win7虚拟机

​	在[MSDN原站](https://msdn.itellyou.cn/)或[新站](https://next.itellyou.cn/)找到`win7`镜像。

​	一直下一步安装，密钥在网上搜一个，win7的很多。

​	主要记录几个问题：

1. 网络问题，在虚拟机设置中的网络适配器选项中选择NAT模式，勾选启动连接。然后启动虚拟机测试能否ping通宿主机。
   - 设置代理，如果宿主机使用了代理，可以在虚拟机中填写外部代理的转发端口号。**控制面板** ->**网络和Internet** -> **网络和共享中心** -> **Internet选项** -> **连接** -> **局域网设置** -> **代理服务器**中填写宿主机IP和使用的端口号。
2. 共享文件夹，在宿主机中选择想要共享的文件夹，在属性中选择共享，在共享中选择给那个用户共享，并设置权限。此时原来显示不共享位置将会显示一个路径，在虚拟机设置的选项标签中启用共享文件夹，并添加文件夹，按照下一步操作，填写之前的路径，或选择想要共享的文件夹（前提是该文件夹开启共享，并赋予了读写权限）。点击确定后完成文件夹共享。
   - 在虚拟机中，选择计算机，右键选择**映射网络驱动器**选择一个不用的盘符，然后填写宿主机的共享路径。这样就能看见共享文件夹里的内容了。
3. 安装`VMWare Tools`，碰到了虚拟机选项中的安装是灰色的问题。解决方法是：
   1. 关闭虚拟机
   2. 选择虚拟机设置 -> **CD/DVD**设置为自动检测。
   3. 如果弹出”无法连接虚拟设备“的错误，则关闭虚拟机，**CD/DVD**改回使用ISO检测，并选择我们使用的win7镜像。
   4. 再看`VMWare Tools`应该可以安装了。
   5. 如果出现"无法自动安装Virtual Machine Communication Interface Sockets驱动程序"错误需要手动安装两个补丁。
4. 给虚拟机安装补丁，应该是这个iso的版本之后微软又给win7打了很多补丁，需要安装更新。离线更新包在[这里](https://gist.github.com/growtopiajaw/8e4a99bbd8135a54847191252f3e205d)
